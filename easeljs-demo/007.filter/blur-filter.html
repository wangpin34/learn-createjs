<!DOCTYPE html>
<html>
  <head>
    <title>easeljs blur filter demo</title>
    <style>

      html, body {
        width: 100%;
        height: 100%;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <img id="myImg" src="/assets/a.jpg" style="display:none;"/>
    <canvas id="canvas" width="400" height="300"></canvas>
  </body>
  <script type="text/javascript" src="../../lib/easeljs-0.8.2.combined.js"></script>
  <script type="text/javascript">

  var stage = new createjs.Stage("canvas");
  createjs.Ticker.addEventListener("tick", tick);

  // var image = new Image();
  // image.crossOrigin = "Anonymous"; // Server must suport CORS, and you must do this for cross-domain.
  // image.onload = drawImage;
  // image.src = "../assets/p4.png";

  var image = document.getElementById('myImg');
  image.onload = drawImage;
  image.crossOrigin = 'Anonymous';

  function drawImage() {
      var bitmap = new createjs.Bitmap(image);
      var blurFilter = new createjs.BlurFilter(10,10,1);
      bitmap.filters = [blurFilter];
  		bitmap.cache(0,0,image.width,image.height);
      bitmap.scaleX = bitmap.scaleY = Math.min(stage.canvas.width/image.width, stage.canvas.height/image.height);
      stage.addChild(bitmap);
  }

  function tick(event) {
      stage.update();
  }

  </script>
</html>
